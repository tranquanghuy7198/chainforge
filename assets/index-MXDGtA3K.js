import{r as l,e as f,j as e,A as x}from"./index-CDk-T4F3.js";import{I as j,u as b,C,z as v,A as g,S as k,T as h,a as A,O as I,b as R,D as w,R as T}from"./index-IYRPo_Un.js";import{C as $,l as F,A as N,m as O,a as S}from"./index-9dImWG2d.js";var y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"};function p(){return p=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var c=arguments[i];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(s[n]=c[n])}return s},p.apply(this,arguments)}const z=(s,i)=>l.createElement(j,p({},s,{ref:i,icon:y})),E=l.forwardRef(z),H=({contract:s,onDeleteContract:i,onEditContract:c})=>{const{blockchains:n}=b(),[r,o]=l.useState(),[u]=f();l.useEffect(()=>{const a=u.get($);for(const t of s.addresses)if(F(s.template.id,t.blockchainId,t.address,n.find(m=>m.id===t.blockchainId)?.networkCluster)===a){o(t);break}},[u,s]);const d=[];return c&&d.push(e.jsx(h,{title:"Edit",children:e.jsx(T,{onClick:()=>c(s.template.id)})})),i&&d.push(e.jsx(h,{title:"Delete",children:e.jsx(S,{onClick:()=>i(s.template.id)})})),e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"masonry-item",hoverable:!0,actions:d,children:e.jsxs(v,{vertical:!0,justify:"stretch",gap:5,children:[e.jsx("div",{className:"contract-name",children:s.template.name}),s.template.description&&e.jsx(g,{className:"description",ellipsis:{rows:4,expandable:!0,symbol:"See more"},children:s.template.description}),e.jsx("div",{children:s.addresses.map(a=>{const t=n.find(m=>m.id===a.blockchainId);return e.jsxs(k,{className:"contract-address",onClick:()=>o(a),children:[e.jsx(h,{title:t?.name??"Unknown blockchain",children:t?e.jsx(A,{src:t.logo,preview:!1,className:t.isTestnet?"contract-chain-testnet":"contract-chain"}):e.jsx(E,{})}),e.jsxs("a",{children:[a.module||I(a.address)," ",e.jsx(R,{})]})]},`${a.blockchainId}-${a.address}-${a.module}`)})})]})}),e.jsx(w,{width:700,title:e.jsx(O,{name:s.template.name,address:r?.address??"",module:r?.module,blockchain:n.find(a=>a.id===r?.blockchainId)}),open:r!==void 0,closable:!0,onClose:()=>o(void 0),children:e.jsx(N,{contractAddress:r,defaultAction:x.Read,contractTemplate:s.template})})]})};export{H as C};
//# sourceMappingURL=index-MXDGtA3K.js.map
