{"version":3,"file":"index-OXpxZGvT.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/QuestionCircleFilled.js","../../node_modules/@ant-design/icons/es/icons/QuestionCircleFilled.js","../../src/components/contract-card/index.tsx"],"sourcesContent":["// This icon file is generated automatically.\nvar QuestionCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z\" } }] }, \"name\": \"question-circle\", \"theme\": \"filled\" };\nexport default QuestionCircleFilled;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport QuestionCircleFilledSvg from \"@ant-design/icons-svg/es/asn/QuestionCircleFilled\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst QuestionCircleFilled = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: QuestionCircleFilledSvg\n}));\n\n/**![question-circle](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUxMiA2NEMyNjQuNiA2NCA2NCAyNjQuNiA2NCA1MTJzMjAwLjYgNDQ4IDQ0OCA0NDggNDQ4LTIwMC42IDQ0OC00NDhTNzU5LjQgNjQgNTEyIDY0em0wIDcwOGMtMjIuMSAwLTQwLTE3LjktNDAtNDBzMTcuOS00MCA0MC00MCA0MCAxNy45IDQwIDQwLTE3LjkgNDAtNDAgNDB6bTYyLjktMjE5LjVhNDguMyA0OC4zIDAgMDAtMzAuOSA0NC44VjYyMGMwIDQuNC0zLjYgOC04IDhoLTQ4Yy00LjQgMC04LTMuNi04LTh2LTIxLjVjMC0yMy4xIDYuNy00NS45IDE5LjktNjQuOSAxMi45LTE4LjYgMzAuOS0zMi44IDUyLjEtNDAuOSAzNC0xMy4xIDU2LTQxLjYgNTYtNzIuNyAwLTQ0LjEtNDMuMS04MC05Ni04MHMtOTYgMzUuOS05NiA4MHY3LjZjMCA0LjQtMy42IDgtOCA4aC00OGMtNC40IDAtOC0zLjYtOC04VjQyMGMwLTM5LjMgMTcuMi03NiA0OC40LTEwMy4zQzQzMC40IDI5MC40IDQ3MCAyNzYgNTEyIDI3NnM4MS42IDE0LjUgMTExLjYgNDAuN0M2NTQuOCAzNDQgNjcyIDM4MC43IDY3MiA0MjBjMCA1Ny44LTM4LjEgMTA5LjgtOTcuMSAxMzIuNXoiIC8+PC9zdmc+) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(QuestionCircleFilled);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'QuestionCircleFilled';\n}\nexport default RefIcon;","import React, { useEffect, useState } from \"react\";\nimport { AbiAction, ContractAddress, DeployedContract } from \"@utils/constants\";\nimport { Card, Drawer, Flex, Image, Space, Tooltip } from \"antd\";\nimport {\n  DeleteOutlined,\n  EditOutlined,\n  ExportOutlined,\n  QuestionCircleFilled,\n} from \"@ant-design/icons\";\nimport \"@components/contract-card/contract-card.scss\";\nimport { shorten } from \"@utils/utils\";\nimport AbiForm from \"@components/abi-form\";\nimport AbiTitle from \"@components/abi-form/abi-title\";\nimport Paragraph from \"antd/es/typography/Paragraph\";\nimport { useFetchBlockchains } from \"@hooks/blockchain\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { buildContractHash, CONTRACT_PARAM } from \"@utils/share\";\n\nconst ContractCard: React.FC<{\n  contract: DeployedContract;\n  onDeleteContract?: (templateId: string) => void;\n  onEditContract?: (templateId: string) => void;\n}> = ({ contract, onDeleteContract, onEditContract }) => {\n  const { blockchains } = useFetchBlockchains();\n  const [contractAddress, setContractAddress] = useState<ContractAddress>();\n  const [params] = useSearchParams();\n\n  useEffect(() => {\n    const contractHash = params.get(CONTRACT_PARAM);\n    for (const address of contract.addresses)\n      if (\n        buildContractHash(\n          contract.template.id,\n          address.blockchainId,\n          address.address,\n          blockchains.find((chain) => chain.id === address.blockchainId)\n            ?.networkCluster\n        ) === contractHash\n      ) {\n        setContractAddress(address);\n        break;\n      }\n  }, [params, contract]);\n\n  const actions: React.ReactNode[] = [];\n  if (onEditContract)\n    actions.push(\n      <Tooltip title=\"Edit\">\n        <EditOutlined onClick={() => onEditContract(contract.template.id)} />\n      </Tooltip>\n    );\n  if (onDeleteContract)\n    actions.push(\n      <Tooltip title=\"Delete\">\n        <DeleteOutlined\n          onClick={() => onDeleteContract(contract.template.id)}\n        />\n      </Tooltip>\n    );\n\n  return (\n    <>\n      <Card className=\"masonry-item\" hoverable actions={actions}>\n        <Flex vertical justify=\"stretch\" gap={5}>\n          <div className=\"contract-name\">{contract.template.name}</div>\n          {contract.template.description && (\n            <Paragraph\n              className=\"description\"\n              ellipsis={{ rows: 4, expandable: true, symbol: \"See more\" }}\n            >\n              {contract.template.description}\n            </Paragraph>\n          )}\n          <div>\n            {contract.addresses.map((address) => {\n              const blockchain = blockchains.find(\n                (chain) => chain.id === address.blockchainId\n              );\n              return (\n                <Space\n                  key={`${address.blockchainId}-${address.address}-${address.module}`}\n                  className=\"contract-address\"\n                  onClick={() => setContractAddress(address)}\n                >\n                  <Tooltip title={blockchain?.name ?? \"Unknown blockchain\"}>\n                    {blockchain ? (\n                      <Image\n                        src={blockchain.logo}\n                        preview={false}\n                        className=\"contract-chain\"\n                      />\n                    ) : (\n                      <QuestionCircleFilled />\n                    )}\n                  </Tooltip>\n                  <a>\n                    {address.module || shorten(address.address)}{\" \"}\n                    <ExportOutlined />\n                  </a>\n                </Space>\n              );\n            })}\n          </div>\n        </Flex>\n      </Card>\n      <Drawer\n        width={700}\n        title={\n          <AbiTitle\n            name={contract.template.name}\n            address={contractAddress?.address ?? \"\"}\n            module={contractAddress?.module}\n            blockchain={blockchains.find(\n              (chain) => chain.id === contractAddress?.blockchainId\n            )}\n          />\n        }\n        open={contractAddress !== undefined}\n        closable={true}\n        onClose={() => setContractAddress(undefined)}\n      >\n        <AbiForm\n          contractAddress={contractAddress}\n          defaultAction={AbiAction.Read}\n          contractTemplate={contract.template}\n        />\n      </Drawer>\n    </>\n  );\n};\n\nexport default ContractCard;\n"],"names":["QuestionCircleFilled","_extends","target","i","source","key","props","ref","React.createElement","AntdIcon","QuestionCircleFilledSvg","RefIcon","React.forwardRef","ContractCard","contract","onDeleteContract","onEditContract","blockchains","useFetchBlockchains","contractAddress","setContractAddress","useState","params","useSearchParams","useEffect","contractHash","CONTRACT_PARAM","address","buildContractHash","chain","actions","jsx","Tooltip","EditOutlined","DeleteOutlined","jsxs","Fragment","Card","Flex","Paragraph","blockchain","Space","Image","shorten","ExportOutlined","Drawer","AbiTitle","AbiForm","AbiAction"],"mappings":"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","x_google_ignoreList":[0,1]}